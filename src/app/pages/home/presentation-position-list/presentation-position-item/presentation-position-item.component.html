<div fxLayout="column" fxLayoutGap="20px" fxLayoutGap.xs="10px" class="card">
  <div>
    <img class="image" src="{{position.imageUrl != null ? position.imageUrl : 'assets/img/example.png'}}">
    <mat-chip-list class="mb-1">
      <div *ngIf="false">
        <app-rating [value]="position.rate"></app-rating>
      </div>
      <mat-chip class="rating" *ngFor="let category of position.categories">
        {{category.name}}
      </mat-chip>
    </mat-chip-list>
  </div>
  <div class="info-block">
    <div class="name">
      {{position?.name?.length > 40 ? position?.name?.substring(0, 40) + '...' : position.name}}
    </div>
    <div [innerHTML]="position.description.substring(0, 30)" *ngIf="position.description" class="ingredients"></div>
    <div *ngIf="position.ingredients" class="ingredients">
      {{position?.ingredients?.length > 30 ? position?.ingredients?.substring(0, 30) + '...' : position.ingredients}}
    </div>
  </div>
  <div fxLayout="row" fxLayoutAlign="start center">
    <div fxFlex="60">
      <app-card-price [value]="position.price"></app-card-price>
    </div>
    <div>
      <button (click)="openDialog()" mat-icon-button>
        <mat-icon>visibility</mat-icon>
      </button>
    </div>
  </div>
  <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
    <div class="weight">{{position.weight * 1000}} гр.</div>
    <div fxLayout="row" fxLayoutAlign="space-between center" *ngIf="position.proteins != null">
      <svg class="icon" width="1" height="16" viewBox="0 0 1 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="1" height="16" fill="#808080"/>
      </svg>
      <div class="info ml-2">{{position.proteins}} Б</div>
    </div>
    <div fxLayout="row" fxLayoutAlign="space-between center" *ngIf="position.fat != null">
      <div>
        <svg class="icon" width="1" height="16" viewBox="0 0 1 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="1" height="16" fill="#808080"/>
        </svg>
      </div>
      <div class="info ml-2">{{position.fat}} Ж</div>
    </div>
    <div fxLayout="row" fxLayoutAlign="space-between center" *ngIf="position.carbohydrate">
      <svg class="icon" width="1" height="16" viewBox="0 0 1 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="1" height="16" fill="#808080"/>
      </svg>
      <div class="info ml-2">{{position.carbohydrate}} У</div>
    </div>
  </div>
</div>
